<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>etchASketch</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <button onclick="GetSquareSize()">Add a number of squares</button>

    <div id="grid-container" class="grid-container">
        
        <!-- Boxen werden hier per JavaScript hinzugefügt -->
    </div>

    </body>
<script>


function GetSquareSize() {
  squareNumber = prompt("Please enter the number of squares you desire");
  drawGrid(squareNumber);
}

 





    function drawGrid (squareNumber) {




    var toAdd = document.createDocumentFragment();

    for(var i = 0; i < squareNumber**2; i++) {
        var newDiv = document.createElement('div');
        newDiv.id = 'r' +i;
        newDiv.className = 'ansbox';
        toAdd.appendChild(newDiv);
    }

    let gridContainerSize = 40 * squareNumber;
    console.log("Die gridContainerSize ist " + gridContainerSize);

    let ansboxFlexBasis = squareNumber/ (squareNumber**2) * 100;
    console.log("Die ansboxFlexBasis ist " + ansboxFlexBasis);

   
    const gridContainer = document.querySelector('.grid-container');
    gridContainer.innerHTML = "";

        gridContainer.appendChild(toAdd);
        let gridContainerSizeString = "width:"+gridContainerSize+"px";
        document.getElementById('grid-container').setAttribute("style", gridContainerSizeString);
        let ansboxFlexBasisString = "flex: 0 0" +ansboxFlexBasis+"%";
        console.log(document.getElementsByClassName('ansbox').length);

     
        let elements = document.getElementsByClassName('ansbox');
            for (let i = 0; i < elements.length; i++) {
             elements[i].style.flex = `0 0 ${ansboxFlexBasis}%`; // Dynamisch die Größe setzen
        }


         // Add event listeners for mouseover and mouseout
       gridContainer.addEventListener("mouseover", (event) => {
      // Change the class when the mouse is over the element
        if (event.target.classList.contains("ansbox")) {
            event.target.classList.remove("ansbox");
            event.target.classList.add("ansboxred");
        }
        });
    }

    

      
</script>

</html>